<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="zh-CN" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Linux操作系统学习笔记 - HONEST的个人主页</title>
<meta name="description" content="linux操作系统学习笔记">


  <meta name="author" content="HONEST">
  
  <meta property="article:author" content="HONEST">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="zh_CN">
<meta property="og:site_name" content="HONEST的个人主页">
<meta property="og:title" content="Linux操作系统学习笔记">
<meta property="og:url" content="https://honest.github.io/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">


  <meta property="og:description" content="linux操作系统学习笔记">







  <meta property="article:published_time" content="2024-12-06T00:00:00+00:00">





  

  


<link rel="canonical" href="https://honest.github.io/Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="HONEST的个人主页 Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">转到主导航栏</a></li>
    <li><a href="#main" class="screen-reader-shortcut">转到内容</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">转到底部</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          HONEST的个人主页
          <span class="site-subtitle">一切美好开始的地方</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/"
                 title="首页"
                
              >首页</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/categories/"
                 title="存放日常生活的心得和感悟"
                
              >个人心得</a>
            </li><li class="masthead__menu-item">
              <a
                href=""
                 title="存放学习的笔记资料"
                
              >学习笔记</a>
            </li><li class="masthead__menu-item">
              <a
                href="/archive/"
                 title="按照时间线方式，以存档格式存放文章"
                
              >文章档案</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">切换搜索</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">切换菜单</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <h1 id="linux操作系统学习笔记">linux操作系统学习笔记</h1>

<h1 id="一系统内核kernal介绍"><strong>一、系统内核（kernal）介绍:</strong></h1>

<p>是一个建立在硬件和应用之间的中间软件，向上为应用提供调动硬件的接口服务，向下提供对各类硬件的兼容性支持（各种架构的CPU、各种不同原理、不同厂商的内存和设备）。</p>

<p>系统内核可以分为三层：系统调用接口（POXIS）、内核代码（不依赖架构，通用）、BSP板级支持包（依赖架构，具体配置）。</p>

<p>系统的主要组件有：系统调用接口、进程管理、内存管理、虚拟文件系统、网络堆栈、设备驱动程序和架构相关的内核代码（BSP）。</p>

<p>https://zhuanlan.zhihu.com/p/342056802</p>

<p>https://www.cnblogs.com/dy2903/p/8453660.html</p>

<h2 id="11-系统调用接口"><strong>1.1 系统调用接口：</strong></h2>

<p>系统调用接口是操作系统提供给内核的一组函数，用于对操作系统进行管理（后面的内容）。系统调用接口屏蔽了底层硬件的差异性、向上提供了系统内统一的用户接口，但是不同系统之间的借口是不统一的。POSIX是可移植系统接口，规定了通用的系统调用接口，使得应用程序能在兼容POSIX的不同操作系统中正常运行。</p>

<h2 id="12-进程管理"><strong>1.2 进程管理：</strong></h2>

<p><strong>进程、线程、任务：</strong></p>

<p>进程是一个在执行的程序（执行实例），他由一个或多个线程来实现（e.g.PI的计算）。进程是划分资源的基本单位，一个程序开始运行以后就为其开启了一个独立的空间，包括堆（heap进程期间动态分配的malloc/realloc）、缓冲、栈（stack、存放局部变量）、BSS段、数据段data segment、代码段text segment。</p>

<p>线程是进程执行的实体，是真正在运行的执行实体。线程是CPU调度的基本单位。同一个进程的线程之间共享资源（全局变量相同），又保留有自己的程序计数器、堆、栈（局部变量不同）。</p>

<p>任务笼统的表述为某一目的而执行的程序，在Linux和RTOS中任务指的就是线程。</p>

<p>Linux中不明确的区分进程和线程（使用了相同的结构体task_struct），区别只在于是否拥有资源。因此，线程又叫轻量级进程。</p>

<p><strong>进程建立的过程：</strong></p>

<p><strong>进程间通信:</strong></p>

<p><strong>进程优先级和进程调度：</strong></p>

<p><strong>进程的数据结构：</strong></p>

<p>https://blog.csdn.net/weixin_42462202/article/details/102768721</p>

<p>Linux中的进程由结构体task_struct表示，又叫进程描述符。结构体成员如下：</p>

<p>tasks是一个双向的循环链表，连接了所有的进程。</p>

<p>pid是进程号，不论进程还是线程都拥有内核中唯一的进程号（只是习惯的称为进程号，或许线程号的叫法更加合理）。</p>

<p>tgid是线程组号，可以把进程看做一个主线程，由主线程创建的其他子线程和主线程构成一个线程组。线程组中的子线程的线程组号就是主线程的pid。</p>

<p>group_leader是一个指向主线程的进程描述符（task_struct）。</p>

<p>/<em>信号相关的数据结构</em>/</p>

<h2 id="13-内存管理"><strong>1.3 内存管理：</strong></h2>

<p><strong>虚拟内存：</strong>利用cache机制联系内存和硬盘，</p>

<p><strong>分页机制：</strong></p>

<h2 id="14-文件系统"><strong>1.4 文件系统：</strong></h2>

<p><strong>虚拟文件系统VFS</strong><strong>：</strong></p>

<p>建立了一个文件系统的抽象层，实现对于不同的文件系统的兼容支持：网络文件系统NFS,AFS,GFS等等。</p>

<h2 id="15-网络协议栈"><strong>1.5 网络协议栈：</strong></h2>

<h2 id="16-驱动"><strong>1.6 驱动：</strong></h2>

<h2 id="17-bsp"><strong>1.7 BSP:</strong></h2>

<p>参考文献：</p>

<p>https://zhuanlan.zhihu.com/p/342056802</p>

<p><strong><a href="https://www.cnblogs.com/dy2903/p/8453660.html">【计算机原理】程序执行过程 - dy2903 - 博客园</a></strong></p>

<h1 id="设备树"><strong>设备树：</strong></h1>

<h1 id="kconfig"><strong>Kconfig:</strong></h1>

<p>是一种图形化的配置.config文件的工具语言，被广泛的应用于Linux内核。使用一个名为Kconfig的配置脚本，设置了各种配置选项和之间的依赖关系。这样，开发者可以通过make  menuconfig的命令实现图形化的.config文件生成（需要已经安装好了uboot）。</p>

<p>Kconfig的语法为：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config [name] [“option name”]
default     [default_value]
depends on [dependency_config _name]
select [select_config _name]
help [help information]
</code></pre></div></div>

<h1 id="二linux命令行bash-shell命令"><strong>二、Linux命令行(bash Shell命令)：</strong></h1>

<p><code class="language-plaintext highlighter-rouge">freecodecamp.org/chinese/news/the-linux-commands-handbook/</code></p>

<p><code class="language-plaintext highlighter-rouge">man</code>:查看命令手册的具体内容，帮助了解（很长很长）。建议使用tldr以更快的大致了解一个命令。</p>

<p>man [命令]/tldr [命令]</p>

<h2 id="文件夹操作"><strong>文件夹操作：</strong></h2>

<ol>
  <li><code class="language-plaintext highlighter-rouge">ls</code>:查看文件夹的内容，默认是当前目录。常用的属性是-al,可以查看文件的详细信息（l详细数据，a显示隐藏数据）。</li>
</ol>

<p>        <code class="language-plaintext highlighter-rouge">ls [选项] &lt;文件路径&gt;</code></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">cd</code>:打开文件夹。.. :上级文件夹、. :当前文件夹、/：根目录、~：root目录。</li>
</ol>

<p>        <code class="language-plaintext highlighter-rouge">cd [选项] &lt;文件路径&gt;</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">pwd</code>:显示当前的工作文件夹。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">du</code>:显示目录大小。 -h单独计算每个文件大小。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mkdir</code>:创建新的文件夹。-p :创建嵌套的文件夹。</p>
  </li>
</ol>

<p>        <code class="language-plaintext highlighter-rouge">mkdir [选项] &lt;文件路径&gt;</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">rm -f</code>:删除文件和其中内容（必须慎重操作）。<code class="language-plaintext highlighter-rouge">-rf</code>:递归的删除文件（也删除文件夹里的）</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">rmdir</code>:删除文件夹（必须为空）。</p>
  </li>
</ol>

<p>        <code class="language-plaintext highlighter-rouge">rmdir [选项] &lt;文件路径&gt;</code></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">mv</code>:移动文件、文件夹；也可用于重命名文件。 -t 目标目录</li>
</ol>

<p>        mv <当前文件路径> <新的文件路径></新的文件路径></当前文件路径></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cp</code>：复制文件，-r复制文件夹。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">find</code>:查找文件,可以限定查找的类型、名称、大小、时间和附加操作。</p>
  </li>
</ol>

<p>        <code class="language-plaintext highlighter-rouge">find  [路径]  -type [类型：f/d]  -name [文件名]  -size [+大于的值/-小于的值]  -mtime [更新时间]  -delete/-exec [命令]</code></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">ln</code>:链接文件,包括硬链接和软链接。保证同步更新？</li>
</ol>

<p>        硬链接：ln <源文件路径><链接路径>，复制+同步</链接路径></源文件路径></p>

<p>        软链接：ln <源文件路径><链接路径>，指针</链接路径></源文件路径></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gzip</code>：压缩</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ta</code>：归档</p>
  </li>
</ol>

<h2 id="文件操作"><strong>文件操作：</strong></h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">touch</code> :创建文件，以写入方式打开。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">cat</code>：打印文件的内容到标准输出。</p>
  </li>
</ol>

<p>cat常常与管道运算符，重定向输出符等连用</p>

<p><code class="language-plaintext highlighter-rouge">cat 文件名</code></p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">|</code> 是管道符号，标识把左边的内容的输出作为右边内容的输入。</p>

  <p><code class="language-plaintext highlighter-rouge">&gt;</code>是重定向输出符号，把内容输出到文件当中，会覆盖</p>

  <p><code class="language-plaintext highlighter-rouge">&gt;&gt;</code>是追加重定向输出符号，把内容追加在文件的末尾</p>
</blockquote>

<ol>
  <li><code class="language-plaintext highlighter-rouge">tail</code>: 打开并监控文件的末尾。（用于日志监控）</li>
</ol>

<p>       <code class="language-plaintext highlighter-rouge"> tail -f [文件]</code></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">grep</code>：全局正则表达式打印。在指定的文件里寻找字符串（正则表达式）。-n 显示匹配的行行号、- l 打印匹配的文件名、-i 忽略大小写匹配、-v 反向查找（打印不匹配的） 、-r 递归查找文件、-c 只打印匹配的行数、-C x 打印匹配的行前后x行的内容。</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">grep [选项] 表达式 [文件]</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">echo</code>:打印输出。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">sort</code>:对文本进行排序 -r倒序 -u移除重复的（对中文不可用）</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">uniq</code>：去除重复的行，-d显示重复行、-u显示不重复行、-c计数</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">diff</code>:比对两个文档。-y逐行对比、-u git式的对比、-r 递归比较、-q显示不同的文件名</p>
  </li>
</ol>

<h2 id="进程操作"><strong>进程操作：</strong></h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ps</code>:检查进程，（静态）</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">top</code>:动态监控进程</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">kill</code>：向进程发送信号（KILL和STOP先向内核发送，由内核操纵进程）。信号包括：HUP(1)挂起、INT(2)干扰、KILL(9)强制终结、TERM(15)正常终结、CONT(18)继续、STOP(19)停止</p>
  </li>
</ol>

<h2 id="用户操作"><strong>用户操作：</strong></h2>

<ol>
  <li><code class="language-plaintext highlighter-rouge">alias</code>:为命令创造别名。’’ 变量在调用时解析, ””变量在定义时解析。</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">alias [new_cmd]=’cmd’/”cmd”</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">chown</code>:改变所有者</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">chmod</code>:改变权限。rwx分别对应了读4写2执行1,不操作的使用-替代。一个文件有三组rwx的值，对应所有者、关联的用户组和其他人的权限。</p>
  </li>
</ol>

<p><code class="language-plaintext highlighter-rouge">chmod  owner/group/world  +/-  rwx</code></p>

<p><code class="language-plaintext highlighter-rouge">chmod  777</code></p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">df</code>:获取磁盘使用情况。-h</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">su -l </code>:切换设备权限到root</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ldconfig</code>：更新系统共享库缓存</p>
  </li>
</ol>

<h2 id="查看操作">查看操作</h2>

<p><code class="language-plaintext highlighter-rouge">sudo netstat -tulpn | grep &lt;port_number&gt;</code></p>

<h1 id="linux快捷键">Linux快捷键</h1>

<p>打开终端ctrl+alt+t</p>

<ul>
  <li>
    <p>常用：</p>

    <ul>
      <li><strong>Ctrl L</strong> ：清屏</li>
      <li><strong>Ctrl M</strong> ：等效于回车</li>
      <li><strong>Ctrl C</strong> : 中断正在当前正在执行的程序</li>
    </ul>
  </li>
  <li>
    <p>历史命令：</p>

    <ul>
      <li><strong>Ctrl P</strong> : 上一条命令，可以一直按表示一直往前翻</li>
      <li><strong>Ctrl N</strong> : 下一条命令</li>
      <li><strong>Ctrl R</strong>，再按历史命令中出现过的字符串：按字符串寻找历史命令（重度推荐）</li>
    </ul>
  </li>
  <li>
    <p>命令行编辑：</p>

    <ul>
      <li><strong>Tab</strong> : 自动补齐（重度推荐）</li>
      <li><strong>Ctrl A</strong> ： 移动光标到命令行首</li>
      <li><strong>Ctrl E</strong> : 移动光标到命令行尾</li>
      <li><strong>Ctrl B</strong> : 光标后退</li>
      <li><strong>Ctrl F</strong> : 光标前进</li>
      <li><strong>Alt F</strong> : 光标前进一个单词</li>
      <li><strong>Alt B</strong> : 光标后退一格单词</li>
      <li><strong>Ctrl ]</strong> : 从当前光标往后搜索字符串，用于快速移动到该字符串</li>
      <li><strong>Ctrl Alt ]</strong> : 从当前光标往前搜索字符串，用于快速移动到该字符串</li>
      <li><strong>Ctrl H</strong> : 删除光标的前一个字符</li>
      <li><strong>Ctrl D</strong> : 删除当前光标所在字符</li>
      <li><strong>Ctrl K</strong> ：删除光标之后所有字符</li>
      <li><strong>Ctrl U</strong> : 清空当前键入的命令</li>
      <li><strong>Ctrl W</strong> : 删除光标前的单词(Word, 不包含空格的字符串)</li>
      <li><code class="language-plaintext highlighter-rouge">Ctrl \</code> : 删除光标前的所有空白字符</li>
      <li><strong>Ctrl Y</strong> : 粘贴<strong>Ctrl W</strong>或<strong>Ctrl K</strong>删除的内容</li>
      <li><strong>Alt .</strong> : 粘贴上一条命令的最后一个参数（很有用）</li>
      <li><strong>Alt [0-9] Alt .</strong> 粘贴上一条命令的第[0-9]个参数</li>
      <li><strong>Alt [0-9] Alt . Alt.</strong> 粘贴上上一条命令的第[0-9]个参数</li>
      <li><strong>Ctrl X Ctrl E</strong> : 调出系统默认编辑器编辑当前输入的命令，退出编辑器时，命令执行</li>
    </ul>
  </li>
  <li>
    <p>其他：</p>

    <ul>
      <li><strong>Ctrl Z</strong> : 把当前进程放到后台（之后可用’‘fg’‘命令回到前台）</li>
      <li><strong>Shift Insert</strong> : 粘贴（相当于Windows的<strong>Ctrl V</strong>）</li>
      <li>在命令行窗口选中即复制</li>
      <li>在命令行窗口中键即粘贴，可用<strong>Shift Insert</strong>代替</li>
      <li><strong>Ctrl PageUp</strong> : 屏幕输出向上翻页</li>
      <li><strong>Ctrl PageDown</strong> : 屏幕输出向下翻页</li>
    </ul>
  </li>
</ul>

<p>#</p>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      输入您要搜索的关键词...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="输入您要搜索的关键词..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>关注:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/HONEST-ZH" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 <a href="https://honest.github.io">HONEST的个人主页</a>. 技术来自于 <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
